<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Basic head info -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="data:image/svg+xml,
%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 576 512'%3E
%3Cpath fill='%2300aa32' d='M528.12 301.319l47.273-208C578.812 81.553 566.854 64 548.12 64H131.441l-4.899-23.319C123.536 27.238 110.343 16 95.441 16H24C10.745 16 0 26.745 0 40v16c0 13.255 10.745 24 24 24h49.441l70.058 334.319C136.464 435.762 149.657 448 164.559 448H488c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24H184.441l-9.899-48H512c11.206 0 20.93-7.754 23.648-18.681zM192 496c26.51 0 48-21.49 48-48s-21.49-48-48-48-48 21.49-48 48 21.49 48 48 48zm288 0c26.51 0 48-21.49 48-48s-21.49-48-48-48-48 21.49-48 48 21.49 48 48 48z'/%3E
%3C/svg%3E">

    <title>FreshCart</title>


    <!-- Font Awesome for icons (social, cart, user) -->
    <link rel="stylesheet" href="./CSS/bootstrap.min.css">
    <link rel="stylesheet" href="./CSS/all.min.css">

    <!-- Main CSS file -->
    <link rel="stylesheet" href="./CSS/style.css">
</head>

<body>

    <!-- ================= HEADER / NAVBAR ================= -->
    <nav class="navbar">
        <div class="container nav-container">

            <!-- Logo -->
            <div class="nav-left">
                <img src="./images/freshcart-logo.svg" alt="FreshCart Logo" class="logo">

                <ul class="nav-links">
                    <li><a class="active" href="#">Home</a></li>
                    <li><a href="#">Cart</a></li>
                    <li><a href="#">Wish List</a></li>
                    <li><a href="#">Brands</a></li>
                </ul>
            </div>

            <!-- Social + Profile -->
            <div class="nav-right">




                <!-- social icons -->
                <i class="fa-brands fa-instagram social-icon instagram"></i>
                <i class="fa-brands fa-facebook social-icon facebook"></i>
                <i class="fa-brands fa-tiktok social-icon tiktok"></i>
                <i class="fa-solid fa-x social-icon x"></i>
                <i class="fa-brands fa-linkedin social-icon linkedin"></i>
                <i class="fa-brands fa-youtube social-icon youtube"></i>

                <!-- user icon -->
                <div class="user-container">
                    <i class="fa-solid fa-user user-icon"></i>

                    <div class="user-menu">
                        <ul>
                            <li><a href="login.html">Log-in</a></li>
                            <li><a href="regester.html">Register</a></li>
                            <li><a href="#">Profile</a></li>
                        </ul>
                    </div>
                </div>


                <!-- hamburger -->
                <div class="menu-toggle">
                    <i class="fa-solid fa-bars"></i>
                </div>
            </div>

        </div>
    </nav>



    <!-- ================= HERO SECTION ================= -->
    <section class="hero">
        <div class="container">

            <div class="hero-section">

                <!-- Left big banner -->
                <div class="hero-left">
                    <img src="./images/slider-image-1.jpeg" alt="Main Banner">
                </div>

                <!-- Right side: 2 small banners -->
                <div class="hero-right">
                    <div class="hero-small">
                        <img src="./images/slider-image-2.jpeg" alt="Small Banner 1">
                    </div>

                    <div class="hero-small second">
                        <img src="./images/slider-image-3.jpeg" alt="Small Banner 2">
                    </div>
                </div>

            </div>

    </section>

    <!-- ========== CATEGORIES SECTION ========== -->
    <section class="categories">
        <div class="container">
            <h2>Categories we offer:</h2>


            <div id="categoriesRow" class="categories-row"></div>
        </div>
    </section>

    <!-- ========== PRODUCTS SECTION ========== -->
    <section class="products">
        <div class="container">
            <div id="productsContainer" class="products-grid"></div>
        </div>
    </section>

    <!-- =============================== JAVASCRIPT FETCHING PRODUCTS =============================== -->
    <script>
        fetch("https://ecommerce.routemisr.com/api/v1/products")
            .then(response => response.json())
            .then(result => {
                console.log(result);

                const products = result.data;

                const productsContainer = document.getElementById("productsContainer");
                const categoriesRow = document.getElementById("categoriesRow");


                // ========Building product cards==========

                products.forEach(item => {
                    const productCard = `
        <div class="product-card">
          <img src="${item.imageCover}" alt="${item.title}">
          <p class="product-category">${item.category?.name || ""}</p>
          <h3 class="product-name">${item.title}</h3>
          <p class="product-price">${item.price} EGP</p>
        </div>
      `;
                    productsContainer.innerHTML += productCard;
                });


                //============Building category cards==============

                //select one product per category to use its image.

                const categoryMap = new Map(); // name â†’ product

                products.forEach(item => {
                    const catName = item.category?.name;
                    if (!catName) return;

                    if (!categoryMap.has(catName)) {
                        categoryMap.set(catName, item);
                    }
                });

                // show categories (max 9)
                let count = 0;
                categoryMap.forEach((item, catName) => {
                    if (!categoriesRow) return;

                    if (count >= 9) return;
                    
                    const categoryCard = `
  <div class="category-card">
    <div class="category-image-wrap">
      <img src="${item.imageCover}" alt="${catName}">
    </div>

    <div class="category-footer">
      <a href="#">${catName}</a>
    </div>
  </div>
`;


                })
                    .catch(err => console.error("Error loading products:", err));

    </script>

    <script>
                const links = document.querySelectorAll(".nav-links a");

                links.forEach(link => {
                    link.addEventListener("click", () => {
                        links.forEach(l => l.classList.remove("active"));
                        link.classList.add("active");
                    });
                });
    </script>


    <!-- ========== APP FOOTER SECTION ========== -->
    <div class="app-section">
        <div class="container app-grid">


            <h2 class="app-title">Get the FreshCart app</h2>
            <p class="app-sub">
                We will send you a link, open it on your phone to download the app.
            </p>

            <div class="app-form">
                <input type="email" placeholder="Email ..">
                <button>Share App Link</button>
            </div>

            <div class="app-bottom">

                <div class="payment-section">
                    <span class="payment-title">Payment Partners</span>

                    <div class="payment-icons">
                        <i class="fa-brands fa-amazon-pay amazon"></i>
                        <i class="fa-brands fa-cc-amex amex"></i>
                        <i class="fa-brands fa-cc-mastercard master"></i>
                        <i class="fa-brands fa-cc-paypal paypal"></i>
                    </div>

                    <div class="store-section">
                        <span class="store-title">Get deliveries with FreshCart</span>

                        <div class="store-logos">
                            <i class="fa-brands fa-app-store-ios appstore"></i>
                            <i class="fa-brands fa-google-play playstore"></i>
                        </div>



                    </div>

                </div>
            </div>

            </section>




            <!-- JS FILES -->
            <script src="./JS/bootstrap.bundle.min.js"></script>
            <script src="./JS/all.min.js"></script>
            <script src="./JS/script.js"></script>



</body>

</html>