<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Basic head info -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="data:image/svg+xml,
%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 576 512'%3E
%3Cpath fill='%2300aa32' d='M528.12 301.319l47.273-208C578.812 81.553 566.854 64 548.12 64H131.441l-4.899-23.319C123.536 27.238 110.343 16 95.441 16H24C10.745 16 0 26.745 0 40v16c0 13.255 10.745 24 24 24h49.441l70.058 334.319C136.464 435.762 149.657 448 164.559 448H488c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24H184.441l-9.899-48H512c11.206 0 20.93-7.754 23.648-18.681zM192 496c26.51 0 48-21.49 48-48s-21.49-48-48-48-48 21.49-48 48 21.49 48 48 48zm288 0c26.51 0 48-21.49 48-48s-21.49-48-48-48-48 21.49-48 48 21.49 48 48 48z'/%3E
%3C/svg%3E">

    <title>FreshCart</title>


    <!-- Font Awesome for icons (social, cart, user) -->
    <link rel="stylesheet" href="./CSS/bootstrap.min.css">
    <link rel="stylesheet" href="./CSS/all.min.css">

    <!-- Main CSS file -->
    <link rel="stylesheet" href="./CSS/style.css">

    <!-- Swiper CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />

</head>

<body>

    <!-- ================= HEADER / NAVBAR ================= -->
    <nav class="navbar">
        <div class="container nav-container">

            <!-- Logo -->
            <div class="nav-left">
                <img src="./images/freshcart-logo.svg" alt="FreshCart Logo" class="logo">

                <ul class="nav-links">
                    <li><a class="active" href="#">Home</a></li>
                    <li><a href="#">Cart</a></li>
                    <li><a href="#">Wish List</a></li>
                    <li><a href="#">Brands</a></li>
                </ul>
            </div>

            <!-- Social + Profile -->
            <div class="nav-right">




                <!-- social icons -->
                <i class="fa-brands fa-instagram social-icon instagram"></i>
                <i class="fa-brands fa-facebook social-icon facebook"></i>
                <i class="fa-brands fa-tiktok social-icon tiktok"></i>
                <i class="fa-solid fa-x social-icon x"></i>
                <i class="fa-brands fa-linkedin social-icon linkedin"></i>
                <i class="fa-brands fa-youtube social-icon youtube"></i>

                <!-- user icon -->
                <div class="user-container">
                    <i class="fa-solid fa-user user-icon"></i>

                    <div class="user-menu">
                        <ul>
                            <li><a href="login.html">Log-in</a></li>
                            <li><a href="regester.html">Register</a></li>
                            <li><a href="#">Profile</a></li>
                        </ul>
                    </div>
                </div>


                <!-- hamburger -->
                <div class="menu-toggle">
                    <i class="fa-solid fa-bars"></i>
                </div>
            </div>

        </div>
    </nav>



    <!-- ================= HERO SECTION ================= -->
    <section class="hero">
        <div class="container">

            <div class="hero-section">

                <!-- Left big banner -->
                <div class="hero-left">
                    <img src="./images/slider-image-1.jpeg" alt="Main Banner">
                </div>

                <!-- Right side: 2 small banners -->
                <div class="hero-right">
                    <div class="hero-small">
                        <img src="./images/slider-image-2.jpeg" alt="Small Banner 1">
                    </div>

                    <div class="hero-small second">
                        <img src="./images/slider-image-3.jpeg" alt="Small Banner 2">
                    </div>
                </div>

            </div>

    </section>

    <!-- ========== CATEGORIES SECTION ========== -->
    <section class="categories">
        <div class="container">
            <h2>Categories we offer:</h2>


            <div class="swiper categoriesSwiper">
                <div class="swiper-wrapper" id="categoriesRow"></div>


                <div class="swiper-button-next"></div>
                <div class="swiper-button-prev"></div>
            </div>

        </div>
    </section>

    <!-- ========== PRODUCTS SECTION ========== -->
    <section class="products">
        <div class="container">
            <h2 class="section-title">Featured products:</h2>

            <div id="productsContainer" class="products-grid"></div>
        </div>
    </section>

    <!-- =============================== JAVASCRIPT FETCHING PRODUCTS =============================== -->
    <script>
        fetch("https://ecommerce.routemisr.com/api/v1/products")
            .then(response => response.json())
            .then(result => {
                console.log(result);

                const products = result.data;

                const productsContainer = document.getElementById("productsContainer");
                const categoriesRow = document.getElementById("categoriesRow");


                // ========Building product cards==========

                products.forEach(item => {

                    const stars = `
        <span class="rating">
            ‚≠ê ${item.ratingsAverage || 0}
        </span>
    `;

                    const productCard = `
        <div class="product-card">
            <div class="product-img">
                <img src="${item.imageCover}" alt="${item.title}">
            </div>

            <p class="product-category">${item.category?.name || ""}</p>

            <h3 class="product-name">${item.title}</h3>

            <div class="product-info">
                <span class="product-price">${item.price} EGP</span>
                ${stars}
            </div>

            <div class="product-actions">
                <button class="view-btn">view</button>
                <button class="wishlist-btn">Wish List</button>
            </div>
        </div>
    `;

                    productsContainer.innerHTML += productCard;
                });




                //============Building category cards==============

                async function loadCategories() {
                    const res = await fetch("https://ecommerce.routemisr.com/api/v1/categories");
                    const data = await res.json();
                    const categories = data.data;

                    const row = document.getElementById("categoriesRow");
                    row.innerHTML = "";

                    categories.forEach(cat => {
                        row.innerHTML += `
            <div class="swiper-slide">
                <div class="category-card">
                    <div class="category-image-wrap">
                        <img src="${cat.image}" alt="${cat.name}">
                    </div>
                    <div class="category-footer">
                        <a href="#">${cat.name}</a>
                    </div>
                </div>
            </div>
        `;
                    });


                    const swiper = new Swiper(".categoriesSwiper", {
                        loop: true,
                        spaceBetween: 24,
                        speed: 900,
                        slidesPerView: 9,
                        navigation: {
                            nextEl: ".swiper-button-next",
                            prevEl: ".swiper-button-prev",
                        },
                        breakpoints: {
                            0: { slidesPerView: 2 },
                            576: { slidesPerView: 3 },
                            768: { slidesPerView: 4 },
                            992: { slidesPerView: 6 },
                            1200: { slidesPerView: 9 }
                        },
                        autoplay: {
                            delay: 1800,
                            disableOnInteraction: false,
                        }
                    });
                }

                loadCategories();


            })
            .catch(err => console.error("Error loading products:", err));

    </script>

    <script>
        const links = document.querySelectorAll(".nav-links a");

        links.forEach(link => {
            link.addEventListener("click", () => {
                links.forEach(l => l.classList.remove("active"));
                link.classList.add("active");
            });
        });
    </script>




    <!-- JS FILES -->
    <script src="./JS/bootstrap.bundle.min.js"></script>
    <script src="./JS/all.min.js"></script>
    <script src="./JS/script.js"></script>

    <!-- Swiper JS -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>


    <div id="loader-overlay">
        <div class="loader"></div>
    </div>


</body>

<!-- ==================== APP SECTION ===================== -->
<section class="app-section">
    <div class="container app-grid">

        <h2 class="app-title">Get the FreshCart app</h2>
        <p class="app-sub">
            We will send you a link, open it on your phone to download the app.
        </p>

        <div class="app-form">
            <input type="email" placeholder="Email ..">
            <button>Share App Link</button>
        </div>

        <div class="app-bottom">

            <div class="payment-section">
                <span class="payment-title">Payment Partners</span>

                <div class="payment-icons">
                    <i class="fa-brands fa-amazon-pay amazon"></i>
                    <i class="fa-brands fa-cc-amex amex"></i>
                    <i class="fa-brands fa-cc-mastercard master"></i>
                    <i class="fa-brands fa-cc-paypal paypal"></i>
                </div>

                <div class="store-section">
                    <span class="store-title">Get deliveries with FreshCart</span>

                    <div class="store-logos">
                        <i class="fa-brands fa-app-store-ios appstore"></i>
                        <i class="fa-brands fa-google-play playstore"></i>
                    </div>
                </div>

            </div>
        </div>

    </div>
</section>


</html>